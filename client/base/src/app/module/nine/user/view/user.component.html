<div class="mb-3 d-flex justify-content-between">
  <button nz-button nzType="primary" nzSize="large" (click)="showModalAddUser()" *ngIf="role">{{'button.add_new' | translate}}</button>

  <form class="d-flex">
    <nz-input-group [nzSuffix]="suffixIconSearch" nzSize="large">
      <input type="text" nz-input placeholder="input search text" />
    </nz-input-group>
    <ng-template #suffixIconSearch>
      <span nz-icon nzType="search"></span>
    </ng-template>
  </form>

</div>
<nz-table #basicTable [nzData]="users">
  <thead>
    <tr>
      <th style="width: 200px;">Quyền</th>
      <th>Email</th>
      <th>Giới tính</th>
      <th>Số điện thoại</th>
      <th>Kích hoạt</th>
      <th *ngIf="role">Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let data of basicTable.data">
      <td style="width: 200px;">
          <ng-container *ngIf="role">

            <ng-container *ngIf="data.roles[0].name != 'admin'">
              <select class="form-select" (change)="changeRole($event,data)">
                <option value="manager" [selected]="data.roles[0].name == 'manager'">Manager</option>
                <option value="client" [selected]="data.roles[0].name == 'client'">Client</option>
              </select>
            </ng-container>

          </ng-container>

          <ng-container *ngIf="data.roles[0].name == 'admin' || !role">
            {{data.name}}
          </ng-container>

      </td>
      <td>{{ data.email }}</td>
      <td>{{ data.gender }}</td>
      <td>{{ data.phone_number }}</td>
      <td><nz-switch [(ngModel)]="data.active" (ngModelChange)="confirmChangeStatus($event,data)" [disabled]="!role"></nz-switch></td>
      <td *ngIf="role">
        <q-menu
          *ngIf="data.name != 'Admin'"
          [model]="menus"
          (buttonItem)="dropdownItemsButton(data)">
        </q-menu>
      </td>
    </tr>
  </tbody>
</nz-table>



<!--  -->
<ng-container *ngIf="isVisibleUser">
  <app-add-user
    [user]="user"
    [isVisibleUser]="isVisibleUser"
    (submitUser)="submitUser()"
    (closeUser)="closeUser()">
  </app-add-user>
</ng-container>

